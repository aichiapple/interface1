{"name": "test_login[args0]", "status": "failed", "statusDetails": {"message": "AssertionError", "trace": "args = {'actual': \"{'code':200}\", 'body': \"{'username':'qiaort','password':'po4xcjK0hX8rifDZqEWecg==','captcha':'','checkType':'pwd','language':'zh_CN_'}\", 'casename': '测试登录', 'expect': \"'msg':'登录成功'\", ...}\n\n    @pytest.mark.parametrize('args',read_yaml('%s/data/data_yaml/1.登录.yaml' % base_dir)['cases'])\n    def test_login(args):\n        print(str(args))\n        \"\"\"登录接口，获取token\"\"\"\n        url=args['url']\n        headers=eval(args['head'])\n        payloads=json.dumps(eval(args['body']))\n        params=eval(args['body'])\n        method=args['method']\n        run_result_txt='%s/data/run_result.txt' % base_dir\n        expect=args['expect']\n>       res=request_utl(method=method,url=url,headers=headers,payloads=payloads,params=params,expect=expect,run_result_txt=run_result_txt)\n\ntestcase\\test_login.py:17: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nmethod = 'post', url = 'https://cocreatinguat.midea.com/api/authorization/login'\nheaders = {'Accept': 'application/json, text/plain, */*', 'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'}\npayloads = {'captcha': '', 'checkType': 'pwd', 'language': 'zh_CN_', 'password': 'po4xcjK0hX8rifDZqEWecg==', ...}\nparams = {'captcha': '', 'checkType': 'pwd', 'language': 'zh_CN_', 'password': 'po4xcjK0hX8rifDZqEWecg==', ...}\nexpect = \"'msg':'登录成功'\"\nrun_result_txt = 'E:\\\\jenkins\\\\interface/data/run_result.txt'\n\n    def request_utl(method,url,headers,payloads,params=None,expect=None,run_result_txt=None):\n        if method=='get':\n            res=requests.get(url=url,headers=headers,params=params)\n            assertion=expect in res.text\n            if assertion:\n                assert assertion\n                #将运行结果写入txt\n                write_text(text_file=run_result_txt,data=res.text+\"__pass|\")\n            else:\n                assert assertion\n                write_text(text_file=run_result_txt,data=res.text+\"__fail|\")\n        elif method=='post':\n            payloads=json.loads(payloads)\n            res=requests.post(url=url,data=payloads,headers=headers)\n            print(res.text)\n            assertion = expect in res.text\n            if assertion:\n                assert assertion\n                # 将运行结果写入txt\n                write_text(text_file=run_result_txt, data=res.text + \"__pass|\")\n            else:\n>               assert assertion\nE               AssertionError\n\ncommon\\request_util.py:27: AssertionError"}, "parameters": [{"name": "args", "value": "{'id': 1, 'body': \"{'username':'qiaort','password':'po4xcjK0hX8rifDZqEWecg==','captcha':'','checkType':'pwd','language':'zh_CN_'}\", 'casename': '测试登录', 'head': \"{'Content-Type':'application/x-www-form-urlencoded;charset=UTF-8','Accept':'application/json, text/plain, */*'}\", 'method': 'post', 'url': 'https://cocreatinguat.midea.com/api/authorization/login', 'expect': \"'msg':'登录成功'\", 'actual': \"{'code':200}\", 'valiadate': '{\"code\":200}'}"}], "start": 1721744692701, "stop": 1721744693019, "uuid": "8140bea3-b406-43ad-9052-0bb31f43dcd7", "historyId": "f23f07c4ad0aa547d5549893d696ed7e", "testCaseId": "5c2b9153db6534bb5ca7321039f75f69", "fullName": "testcase.test_login#test_login", "labels": [{"name": "parentSuite", "value": "testcase"}, {"name": "suite", "value": "test_login"}, {"name": "host", "value": "LAPTOP-G7ADVSFE"}, {"name": "thread", "value": "11916-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcase.test_login"}]}